<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title>AR Thí nghiệm tinh bột + Iodine</title>

<!-- Thư viện A-Frame và AR.js -->
<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

<style>
body { margin:0; overflow:hidden; font-family: Arial; }
#control {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
button {
  padding: 10px 14px;
  border-radius: 6px;
  border: none;
  font-size: 14px;
  color: white;
  background-color: #3f51b5;
  cursor: pointer;
}
button:disabled {
  background-color: #bdbdbd;
  cursor: not-allowed;
}
#note {
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.9);
  padding: 8px 14px;
  border-radius: 6px;
  font-size: 16px;
}
</style>
</head>

<body>

<div id="note">Bước 1: Rót 2 mL dung dịch hồ tinh bột 1% vào ống nghiệm</div>

<div id="control">
  <button id="b1">B1: Chuẩn bị dung dịch hồ tinh bột</button>
  <button id="b2" disabled>B2: Nhỏ dung dịch iodine</button>
  <button id="b3" disabled>B3: Lắc đều</button>
</div>

<a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
  <a-marker preset="hiro">

    <!-- Ống nghiệm -->
    <a-cylinder position="0 0.6 0" radius="0.18" height="1.2"
                color="#cccccc" opacity="0.25"></a-cylinder>

    <!-- Dung dịch -->
    <a-cylinder id="dd" position="0 0.3 0" radius="0.16" height="0.6"
                color="white" opacity="0.9"></a-cylinder>

    <!-- Nhãn -->
    <a-text id="label" value=""
            position="-1.2 1.3 0"
            scale="0.6 0.6 0.6"
            color="black"></a-text>

    <!-- Ống hút nhỏ giọt -->
    <a-cylinder id="dropper" position="0.35 0.9 0" radius="0.03" height="0.3"
                color="#ff5722" opacity="0.8"></a-cylinder>

  </a-marker>
  <a-entity camera></a-entity>
</a-scene>

<script>
const dd = document.getElementById("dd");
const label = document.getElementById("label");
const note = document.getElementById("note");
const dropper = document.getElementById("dropper");

const b1 = document.getElementById("b1");
const b2 = document.getElementById("b2");
const b3 = document.getElementById("b3");

// Bước 1: Chuẩn bị dung dịch hồ tinh bột
b1.onclick = () => {
  dd.setAttribute("color","white");
  label.setAttribute("value","Dung dịch hồ tinh bột 1%");
  note.innerText = "Bước 2: Nhỏ dung dịch iodine vào ống nghiệm";
  b2.disabled = false;
  b1.disabled = true;
};

// Bước 2: Nhỏ dung dịch iodine
b2.onclick = () => {
  dropper.setAttribute("position","0.35 0.5 0"); // hạ ống hút
  note.innerText = "Bước 3: Lắc đều ống nghiệm";
  b3.disabled = false;
  b2.disabled = true;
};

// Bước 3: Lắc đều
b3.onclick = () => {
  dd.setAttribute("color","#2e1a47"); // dung dịch đổi màu xanh tím
  label.setAttribute("value","Dung dịch hồ tinh bột + iodine → màu xanh tím");
  note.innerText = "Hoàn thành thí nghiệm";
  dropper.setAttribute("position","0.35 0.9 0"); // ống hút trở lại
  b3.disabled = true;
};
</script>

</body>
</html>
